---
title: "R Bootcamp Einstein 2017"
author: Michoel Snow
date: August 8-9, 2017
output: 
  revealjs::revealjs_presentation:
    center: FALSE
    theme: sky
    transition: concave
    css: r_bootcamp_einstein_2017_revealjs.css
    highlight: tango
    fig_height: 4
---

## SECTION 1 - The Basics
## Installing R

If you don't have them already installed you need to download and install R and R studio  

- Download R
- <https://cran.r-project.org/>  
- R Studio
- <https://www.rstudio.com/products/rstudio/download/>


## Introduction to R

- R is an open source programming environment
- It is most commonly used for statistical computing and graphics
- The basic functionality of R can be extended with 'packages'

## Resources for R

- R for data science <http://r4ds.had.co.nz> 
- Served as inspiration for a lot of this bootcamp
- Written by programmers at R Studio
- R Programming for Data Science <https://bookdown.org/rdpeng/rprogdatascience/>
- R Bootcamp <https://www.jaredknowles.com/r-bootcamp/>

## Introduction to R studio  {.scrollable}

- R studio is an IDE within which you can write/edit code, run code, display plots/graphics and a whole host of other functions 

![](RStudio-Screenshot.png)


## Getting Started 


- Go to <https://github.com/mseinstein/> to download the Presentions > RBootCamp > r_bootcamp_einstein_2017.R file   
- All the code presented here is within that R file

## Running code in R




- To run any line of code use <kbd>CTRL</kbd>+<kbd>Enter</kbd> or <kbd>Cmd</kbd>+<kbd>Enter</kbd> 
- R will run the highlighted code OR
- R will run the line of code which the cursor is on


## Installing and Loading packages
- The power of R can be extended with packages
- Tidyverse is a collection of R packages that share common philosophies and are designed to work together
- This is the main package we will be using 
- You install a package with the `install.packages("Pkg Name")`, e.g., `install.packages("tidyverse")`      
- Only needs to be done once per machine
- To load a package call the `library` function, e.g., `library(tidyverse)`
- Needs to be loaded every session you want to use it (usually everytime you open R studio)

## Key Symbols

- < - 
- Assignment operator, e.g. x <- 5
- The equals sign, =, will work as a substitution in most but not all cases
- `#`
- Denotes a comment
- All text following the `#` will be ignored
- `?`function_name 
- Opens the Documentation for the function
- `??`term
- Searches the help documentation for the queried string


## SECTION 2 - Data Visualisations 

## ggplot2
- ggplot2 is a plotting system for R, based on the grammar of graphics
- See http://vita.had.co.nz/papers/layered-grammar.pdf for an in-depth discussion

`library(tidyverse)`

## Graphics in ggplot are built in layers

## mpg dataset {.scrollable}

```{r, echo=FALSE,include=FALSE}
library(tidyverse)
```

ggplot dataset of fuel economy data from 1999 and 2008 for 38 popular models of car

```{r}
mpg
summary(mpg) 
mpg$drv
```


## ggplot command {.scrollable}

The ggplot command begins a plot to which you can add layers
```{r, message=FALSE}
ggplot(data = mpg) + 
geom_point(mapping = aes(x = displ, y = hwy))
ggplot(data = mpg) +
geom_smooth(mapping = aes(x = displ, y = hwy)) + 
geom_point(mapping = aes(x = displ, y = hwy))
```

## Variable propagation {.scrollable}

By inserting x and y into ggplot, all layers will use those parameters unless otherwise specified
```{r message=FALSE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
geom_smooth() + geom_point()

ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
geom_smooth() + geom_point() +
geom_smooth(mapping = aes(x = displ,y = cty),color = "red")
```

## Features vs Variables {.scrollable}

Note: if you want to plot a variable to a feature like color or size, it must go in the aes() term, if you just want to set them at a certain value they go outside the aes
```{r message=FALSE} 
ggplot(mpg, aes(displ,hwy)) + geom_smooth(color = "green") + 
geom_point(aes(color=class),size=2) 
```

## Facets {.scrollable}

You can also split the plot into subplots based on a varible using `facet`
```{r}
ggplot(mpg, aes(displ,hwy))  + geom_point() + facet_grid(.~cyl)
ggplot(mpg, aes(displ,hwy))  + geom_point() + facet_grid(cyl~.)
ggplot(mpg, aes(displ,hwy))  + geom_point() + facet_wrap(~cyl)
ggplot(mpg, aes(displ,hwy))  + geom_point() + facet_grid(cyl~class)
```


## Playtme {.scrollable}
Try to make some of the following plots:
```{r, echo=FALSE, warning=FALSE, message=FALSE, fig.height=2}
ggplot(mpg)  + geom_point(aes(displ,hwy,size=class),color="blue",shape=17) 

ggplot(mpg) + 
geom_smooth(aes(displ,hwy, linetype = drv))

ggplot(mpg,aes(displ,hwy,color=drv)) + 
geom_smooth(se=FALSE,show.legend = FALSE) +
geom_point(size=2,show.legend = FALSE)

```

















